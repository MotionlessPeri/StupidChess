我想创建一个中国象棋游戏的代码。这个象棋游戏在普通象棋游戏的基础上，添加了一个摆棋子的功能：玩家在开始之前先摆棋子，玩家摆棋子只能在象棋初始的那些位置摆。玩家可以将一个棋子摆到任意可行的位置。
每个棋子有表面职业和实际职业两个概念。实际职业就是棋子本身的职业，比如车 马 炮这些。表面职业是棋子摆放的位置决定的：比如一个棋子被摆到了左下角车的地方，那么它的表面职业就是车。
对方是看不到你摆的棋子的实际职业的。在摆好后对局开始，每个棋子按照表面职业的规则移动。当一个棋子吃别的棋子的时候，它的表面职业被抛弃，需要切换到实际职业。如果一个棋子被吃，那么对方需要知道它的实际职业（也可以尝试不知道实际职业的玩法）。如果一个棋子切换职业后不在它实际职业应该有的地方，比如一个实际职业是士的棋子在切换职业时在九宫格外，或者一个实际职业是象的棋子在切换职业时不在正常象科大的位置，那他不能移动。
游戏的胜利条件和普通的象棋相同。如果一个玩家没有棋子可以移动，那么他可以跳过这步。如果还存在可以移动的棋子就，那么不能跳过。
我希望你给我一个这个游戏的设计方案。我希望在UE里实现这个游戏。但是我需要考虑到游戏的可移植性。我希望游戏的核心玩法相关的类可以迁移到别的地方。我现在暂时的需求是可能需要支持UE和微信小程序两个平台。请你在设计时考虑到这点。
我希望你先不要实现代码，先给我一个实现方案。如果有任何问题或者需要我明确的地方，请先询问我，确认完毕后再设计并生成你的方案。

1. 双方盲摆
2. 是的。
3. 对的，没有禁摆规则。
4. 旦该棋子首次吃子就永久切换
5. 切换后 实际职业 对双方公开可见
6. 先做成固定公开吧，先不考虑不公开
7. 先设计成该棋子可长期“冻结”，直到被吃
8. 允许
9. 胜负判定完全沿用象棋
10. 允许。如果双方都只能跳过，那么算平局
11. 我希望能联网PVP和人机AI两种。可以先实现联网PVP，人机AI再考虑。但是设计时必须要考虑用户是AI的情况。此外，我可能希望尝试用强化学习之类的方式训练一个AI出来，请你在设计方案的时候也考虑这点。
12. 我希望核心用C++好一些。
如果有任何矛盾或者不对的地方，请先指出和我讨论。

- 你建议的裁定没有问题，可以使用。
- 可以用更新的C++标准，可以用latest，也就是23的特性。如果你的设计方案里迁移到微信时latest有问题，那么请提出给我
- 我希望我们的变量命名先按照UE的习惯吧，就是变量名都是大驼峰那种
- 其他的设计我看起来没什么问题‘

- 那我们先定用C++20的标准吧，这个你觉得合理嘛？
- 请你按照你的规划给我相关的接口文档。

- 我有一个问题。就是这个项目结构该怎么搞。我们应该有一个跟平台无关的库，就是你现在设计的这个。我们应该还有一个UE项目。我们现在要怎么设计这个项目结构？Core部分，就是我们现在设计的这部分，单独搞一个repo嘛？UE/小程序实现开单独的repo将Core引用成submodule嘛？还是什么别的形式？
如果我们现在按照submodule的模式实现Core的话，到时候实现UE实现，我该怎么把这个对话的memory带过去？我不想实现UE Impl的时候再给他讲一遍我的需求和我们已经做好的设计之类的。

我有一个问题。我看了下你设计的目录架构。在UE里客户端和服务端一般是写在一个项目里的吧。你这么设计的话我需要开两个UE项目嘛？还是说你的UE实现不打算用UE去写服务端？

你先把你的工作流程和计划告诉我吧。我不希望每次你做完一步我才知道你的下一步要干什么。我希望知道你的全局规划，你明白我的意思嘛？